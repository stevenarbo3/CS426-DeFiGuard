"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.end = exports.start = void 0;
const lodash_1 = __importDefault(require("lodash"));
const { uniqueId } = lodash_1.default;
const messages = {};
function start(action, message) {
    if (typeof window !== "undefined") {
        const id = uniqueId();
        messages[id] = {
            id,
            start: new Date(),
            action,
            message,
        };
        window.dispatchEvent(new CustomEvent("moonwell-sdk", {
            detail: messages[id],
        }));
        return id;
    }
    return undefined;
}
exports.start = start;
function end(id) {
    if (typeof window !== "undefined" && id) {
        const message = messages[id];
        if (message) {
            message.end = new Date();
            message.duration = message.end.getTime() - message.start.getTime();
            window.dispatchEvent(new CustomEvent("moonwell-sdk", {
                detail: message,
            }));
        }
    }
    return undefined;
}
exports.end = end;
//# sourceMappingURL=console.js.map