"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.getMorphoVaultUserPosition = void 0;
const lodash_1 = __importDefault(require("lodash"));
const { first } = lodash_1.default;
const index_js_1 = require("../../../common/index.js");
const common_js_1 = require("./common.js");
async function getMorphoVaultUserPosition(client, args) {
    const environment = (0, index_js_1.getEnvironmentFromArgs)(client, args);
    if (!environment) {
        return undefined;
    }
    let { vaultAddress, vault } = args;
    if (!vaultAddress) {
        vaultAddress = environment.vaults[vault].address;
    }
    const userPositions = await (0, common_js_1.getMorphoVaultUserPositionsData)({
        environment: environment,
        account: args.userAddress,
        vaults: [vaultAddress],
    });
    return first(userPositions);
}
exports.getMorphoVaultUserPosition = getMorphoVaultUserPosition;
//# sourceMappingURL=getMorphoVaultUserPosition.js.map